{"version":3,"sources":["webpack:///main.js","webpack:///./app-src/js/main.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","95","_interopRequireWildcard","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","call","default","_interopRequireDefault","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_extends","assign","target","i","arguments","length","source","_jsx","REACT_ELEMENT_TYPE","Symbol","for","createRawReactElement","type","props","children","defaultProps","childrenLength","propName","childArray","Array","$$typeof","undefined","ref","_owner","_createClass","defineProperties","descriptor","defineProperty","protoProps","staticProps","_react","_react2","_reactDom","_reactDom2","_redux","Redux","_reactRedux","config","dataSrc","_ref","className","FlightAppCls","_React$Component","this","_this","getPrototypeOf","state","flights","componentDidMount","_this2","fetch","then","response","ok","json","_err","status","statusText","url","err","data","isArray","sort","a","b","arrival","departure","setState","console","log","render","carrier","carriers","reduce","result","item","indexOf","push","Provider","store","FlightSelector","list","current","onChange","changeCarrier","FlightList","Component","mapperStoreStateToProps","flightApp","mapperDispatchToProps","dispatch","evt","FlightApp","connect","_ref2","map","filter","createElement","FlightEntry","entry","dt1","Date","dt2","f","t","h","getHours","m","getMinutes","id","direction","from","to","toLocaleDateString","createStore","initData","initStates","reducers","action","r","combineReducers","document","getElementById","96"],"mappings":"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","file":"main.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(95);\n\n\n/***/ },\n\n/***/ 95:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/*\r\n\t* Для сохранения удобной возможности легко смотреть это в браузере\r\n\t* не будем дробить это на отдельные файлы модулей.\r\n\t*\r\n\t* Для просмотра в браузере (browse.html) закоментировать все импорты\r\n\t* и раскоментирорвать две константы под ними.\r\n\t*/\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(26);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(61);\n\t\n\tvar _reactDom2 = _interopRequireDefault(_reactDom);\n\t\n\tvar _redux = __webpack_require__(56);\n\t\n\tvar Redux = _interopRequireWildcard(_redux);\n\t\n\tvar _reactRedux = __webpack_require__(85);\n\t\n\t__webpack_require__(96);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t//const {Provider} = ReactRedux;\n\t//const reduxConnect = ReactRedux.connect;\n\t\n\t\n\tvar config = {\n\t\t// Урл внешнего файла с данными о перелётах\n\t\tdataSrc: 'data.json'\n\t};\n\t\n\tvar _ref = _jsx('div', {\n\t\tclassName: 'flight-title'\n\t}, void 0, '\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0430\\u0432\\u0438\\u0430\\u043A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0438\\u044E:');\n\t\n\tvar FlightAppCls = function (_React$Component) {\n\t\t_inherits(FlightAppCls, _React$Component);\n\t\n\t\tfunction FlightAppCls(props) {\n\t\t\t_classCallCheck(this, FlightAppCls);\n\t\n\t\t\tvar _this = _possibleConstructorReturn(this, (FlightAppCls.__proto__ || Object.getPrototypeOf(FlightAppCls)).call(this, props));\n\t\n\t\t\t_this.state = { flights: [] /*, carrier:null*/ };\n\t\t\treturn _this;\n\t\t}\n\t\n\t\t_createClass(FlightAppCls, [{\n\t\t\tkey: 'componentDidMount',\n\t\t\tvalue: function componentDidMount() {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\tfetch(config.dataSrc, {}).then(function (response) {\n\t\t\t\t\tif (response.ok) {\n\t\t\t\t\t\treturn response.json(); //promise\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_this2._err('NetworkError: ' + response.status + ' ' + response.statusText + ' ' + response.url);\n\t\t\t\t\t}\n\t\t\t\t}, function (err) {\n\t\t\t\t\treturn _this2._err(err);\n\t\t\t\t}).then(function (data) {\n\t\t\t\t\tif (data) {\n\t\t\t\t\t\tif (Array.isArray(data.flights)) {\n\t\t\t\t\t\t\tvar flights = data.flights;\n\t\t\t\t\t\t\t// Отсортировать, если нет строгой уверенности, что они уже отсортированы...\n\t\t\t\t\t\t\tflights.sort(function (a, b) {\n\t\t\t\t\t\t\t\treturn a.arrival < b.arrival ? -1 : a.arrival == b.arrival ? a.departure < b.departure ? -1 : a.departure == b.departure ? 0 : 1 : 1;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t_this2.setState({ flights: flights });\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_this2._err('ServerError: No valid data');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: '_err',\n\t\t\tvalue: function _err(err) {\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\t\n\t\t\t/*onChangeCarrier (evt) {\r\n\t  \tevt.stopPropagation();\r\n\t  \tthis.setState({carrier:evt.target.value});\r\n\t  }*/\n\t\n\t\t}, {\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\tvar flights = this.state.flights;\n\t\t\t\tvar carrier = this.props /*state*/.carrier;\n\t\t\t\tvar carriers = flights.length ? flights.reduce(function (result, item) {\n\t\t\t\t\tif (result.indexOf(item.carrier) == -1) {\n\t\t\t\t\t\tresult.push(item.carrier);\n\t\t\t\t\t}\n\t\t\t\t\treturn result;\n\t\t\t\t}, []) : [];\n\t\t\t\tcarriers.sort();\n\t\t\t\treturn _jsx(_reactRedux.Provider, {\n\t\t\t\t\tstore: this.props.store\n\t\t\t\t}, void 0, _jsx('div', {\n\t\t\t\t\tclassName: 'flight-app'\n\t\t\t\t}, void 0, _ref, _jsx(FlightSelector, {\n\t\t\t\t\tlist: carriers,\n\t\t\t\t\tcurrent: carrier,\n\t\t\t\t\tonChange: this.props.changeCarrier /*this.onChangeCarrier.bind(this)*/\n\t\t\t\t}), _jsx(FlightList, {\n\t\t\t\t\tflights: flights,\n\t\t\t\t\tcarrier: carrier\n\t\t\t\t})));\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn FlightAppCls;\n\t}(_react2.default.Component);\n\t\n\tvar mapperStoreStateToProps = function mapperStoreStateToProps(store) {\n\t\treturn {\n\t\t\tcarrier: store.flightApp.carrier\n\t\t};\n\t};\n\t\n\tvar mapperDispatchToProps = function mapperDispatchToProps(dispatch, props) {\n\t\treturn {\n\t\t\tchangeCarrier: function changeCarrier(evt) {\n\t\t\t\tdispatch({ type: 'CHANGE_CARRIER', carrier: evt.target.value });\n\t\t\t}\n\t\t};\n\t};\n\t\n\tvar FlightApp = (0, _reactRedux.connect)(mapperStoreStateToProps, mapperDispatchToProps)(FlightAppCls);\n\t\n\tvar _ref2 = _jsx('option', {\n\t\tvalue: ''\n\t}, void 0, '\\u0412\\u0441\\u0435 \\u0430\\u0432\\u0438\\u0430\\u043A\\u043E\\u043C\\u0430\\u043D\\u0438\\u0438');\n\t\n\tvar FlightSelector = function FlightSelector(props) {\n\t\tvar list = props.list,\n\t\t    current = props.current,\n\t\t    onChange = props.onChange;\n\t\n\t\treturn _jsx('select', {\n\t\t\tclassName: 'flight-selector',\n\t\t\tvalue: current || '',\n\t\t\tonChange: onChange\n\t\t}, void 0, _ref2, list.length ? list.map(function (item) {\n\t\t\treturn _jsx('option', {\n\t\t\t\tvalue: item\n\t\t\t}, void 0, item);\n\t\t}) : null);\n\t};\n\t\n\tvar FlightList = function FlightList(props) {\n\t\tvar flights = props.flights,\n\t\t    carrier = props.carrier;\n\t\n\t\tvar list = flights.length ? carrier ? flights.filter(function (item) {\n\t\t\treturn item.carrier == carrier;\n\t\t}) : flights : [];\n\t\treturn _jsx('div', {\n\t\t\tclassName: 'flight-list' + (list.length ? '' : ' empty')\n\t\t}, void 0, list.length ? list.map(function (item) {\n\t\t\treturn _react2.default.createElement(FlightEntry, item);\n\t\t}) : 'Нет данных...');\n\t};\n\t\n\tvar FlightEntry = function FlightEntry(entry) {\n\t\tvar dt1 = new Date(entry.arrival);\n\t\tvar dt2 = new Date(entry.departure);\n\t\tvar f = function f(t) {\n\t\t\tvar h = t.getHours(),\n\t\t\t    m = t.getMinutes();\n\t\t\treturn (h < 10 ? '0' + h : h) + ':' + (m < 10 ? '0' + m : m);\n\t\t};\n\t\treturn _jsx('div', {\n\t\t\tclassName: 'flight-entry'\n\t\t}, void 0, _jsx('div', {\n\t\t\tclassName: 'flight-entry-id'\n\t\t}, void 0, '\\u0440\\u0435\\u0439\\u0441 \\u2116 ', _jsx('span', {}, void 0, entry.id)), _jsx('div', {\n\t\t\tclassName: 'flight-entry-direction'\n\t\t}, void 0, entry.direction.from, ' - ', entry.direction.to), _jsx('div', {\n\t\t\tclassName: 'flight-entry-arrival'\n\t\t}, void 0, '\\u0412\\u044B\\u043B\\u0435\\u0442 ', _jsx('span', {\n\t\t\tclassName: 'date'\n\t\t}, void 0, dt1.toLocaleDateString()), ' \\u0432 ', _jsx('span', {\n\t\t\tclassName: 'time'\n\t\t}, void 0, f(dt1))), _jsx('div', {\n\t\t\tclassName: 'flight-entry-departure'\n\t\t}, void 0, '\\u041F\\u0440\\u0438\\u043B\\u0451\\u0442 ', _jsx('span', {\n\t\t\tclassName: 'date'\n\t\t}, void 0, dt2.toLocaleDateString()), ' \\u0432 ', _jsx('span', {\n\t\t\tclassName: 'time'\n\t\t}, void 0, f(dt2))), _jsx('div', {\n\t\t\tclassName: 'flight-entry-carrier'\n\t\t}, void 0, '\\u0410\\u0432\\u0438\\u0430\\u043A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0438\\u044F ', _jsx('span', {}, void 0, entry.carrier)));\n\t};\n\t\n\tvar createStore = function createStore(initData) {\n\t\tvar initStates = { flightApp: { carrier: null } };\n\t\tvar reducers = {\n\t\t\tflightApp: function flightApp() {\n\t\t\t\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initStates.flightApp;\n\t\t\t\tvar action = arguments[1];\n\t\n\t\t\t\tswitch (action.type) {\n\t\t\t\t\tcase 'CHANGE_CARRIER':\n\t\t\t\t\t\treturn _extends({}, state, { carrier: action.carrier });\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn state;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\tvar r = Redux.combineReducers(reducers);\n\t\t/*let store = Redux.applyMiddleware(...)(Redux.createStore)(r, initData);*/\n\t\tvar store = Redux.createStore(r, initData);\n\t\treturn store;\n\t};\n\t\n\tvar store = createStore();\n\t\n\t_reactDom2.default.render(_jsx(FlightApp, {\n\t\tstore: store\n\t}), document.getElementById('react-root'));\n\n/***/ },\n\n/***/ 96:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// main.js","'use strict';\r\n\r\n/*\r\n* Для сохранения удобной возможности легко смотреть это в браузере\r\n* не будем дробить это на отдельные файлы модулей.\r\n*\r\n* Для просмотра в браузере (browse.html) закоментировать все импорты\r\n* и раскоментирорвать две константы под ними.\r\n*/\r\nimport React/*, {Component}*/ from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport * as Redux from 'redux';\r\nimport /* * as ReactRedux*/ {Provider, connect as reduxConnect} from 'react-redux';\r\nimport '../css/main.css';\r\n//const {Provider} = ReactRedux;\r\n//const reduxConnect = ReactRedux.connect;\r\n\r\n\r\n\r\nconst config = {\r\n\t// Урл внешнего файла с данными о перелётах\r\n\tdataSrc: 'data.json'\r\n};\r\n\r\n\r\n\r\nclass FlightAppCls extends React.Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {flights:[]/*, carrier:null*/};\r\n\t}\r\n\r\n\tcomponentDidMount () {\r\n\t\tfetch(config.dataSrc, {}).then(response => {\r\n\t\t\tif (response.ok) {\r\n\t\t\t\treturn response.json();//promise\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis._err('NetworkError: ' + response.status + ' ' + response.statusText + ' ' + response.url);\r\n\t\t\t}\r\n\t\t}, err => this._err(err)).then(data => {\r\n\t\t\tif (data) {\r\n\t\t\t\tif (Array.isArray(data.flights)) {\r\n\t\t\t\t\tlet flights = data.flights;\r\n\t\t\t\t\t// Отсортировать, если нет строгой уверенности, что они уже отсортированы...\r\n\t\t\t\t\tflights.sort((a, b) => a.arrival < b.arrival ? -1 : (a.arrival == b.arrival ? (a.departure < b.departure ? -1 : (a.departure == b.departure ? 0 : 1)) : 1));\r\n\t\t\t\t\tthis.setState({flights:flights});\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis._err('ServerError: No valid data');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t_err (err) {\r\n\t\tconsole.log(err);\r\n\t}\r\n\r\n\t/*onChangeCarrier (evt) {\r\n\t\tevt.stopPropagation();\r\n\t\tthis.setState({carrier:evt.target.value});\r\n\t}*/\r\n\r\n\trender () {\r\n\t\tlet flights = this.state.flights;\r\n\t\tlet carrier = this.props/*state*/.carrier;\r\n\t\tlet carriers = flights.length ? flights.reduce((result, item) => {\r\n\t\t\tif (result.indexOf(item.carrier) == -1) {\r\n\t\t\t\tresult.push(item.carrier);\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}, []) : [];\r\n\t\tcarriers.sort();\r\n\t\treturn (\r\n\t\t\t<Provider store={this.props.store}>\r\n\t\t\t\t<div className=\"flight-app\">\r\n\t\t\t\t\t<div className=\"flight-title\">Выберите авиакомпанию:</div>\r\n\t\t\t\t\t<FlightSelector list={carriers} current={carrier} onChange={this.props.changeCarrier/*this.onChangeCarrier.bind(this)*/} />\r\n\t\t\t\t\t<FlightList flights={flights} carrier={carrier} />\r\n\t\t\t\t</div>\r\n\t\t\t</Provider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapperStoreStateToProps = function (store) {\r\n\treturn {\r\n\t\tcarrier: store.flightApp.carrier\r\n\t};\r\n}\r\n\r\nconst mapperDispatchToProps = function (dispatch, props) {\r\n\treturn {\r\n\t\tchangeCarrier: function (evt) {\r\n\t\t\tdispatch({type:'CHANGE_CARRIER', carrier:evt.target.value});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst FlightApp = reduxConnect(mapperStoreStateToProps, mapperDispatchToProps)(FlightAppCls);\r\n\r\n\r\n\r\nconst FlightSelector = function (props) {\r\n\tlet {list, current, onChange} = props;\r\n\treturn (\r\n\t\t<select className=\"flight-selector\" value={current || ''} onChange={onChange}>\r\n\t\t\t<option value=\"\">Все авиакомании</option>\r\n\t\t\t{list.length ? list.map(item => <option value={item}>{item}</option>) : null}\r\n\t\t</select>\r\n\t);\r\n}\r\n\r\n\r\n\r\nconst FlightList = function (props) {\r\n\tlet {flights, carrier} = props;\r\n\tlet list = flights.length ? (carrier ? flights.filter(item => item.carrier == carrier) : flights) : [];\r\n\treturn (\r\n\t\t<div className={'flight-list' + (list.length ? '' : ' empty')}>\r\n\t\t\t{list.length ? list.map(item => <FlightEntry {...item} />) : 'Нет данных...'}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n\r\n\r\nconst FlightEntry = function (entry) {\r\n\tlet dt1 = new Date(entry.arrival);\r\n\tlet dt2 = new Date(entry.departure);\r\n\tlet f = (t) => {\r\n\t\tlet h = t.getHours(), m = t.getMinutes();\r\n\t\treturn (h < 10 ? '0' + h : h) + ':' + (m < 10 ? '0' + m : m);\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"flight-entry\">\r\n\t\t\t<div className=\"flight-entry-id\">рейс № <span>{entry.id}</span></div>\r\n\t\t\t<div className=\"flight-entry-direction\">{entry.direction.from} - {entry.direction.to}</div>\r\n\t\t\t<div className=\"flight-entry-arrival\">Вылет <span className=\"date\">{dt1.toLocaleDateString()}</span> в <span className=\"time\">{f(dt1)}</span></div>\r\n\t\t\t<div className=\"flight-entry-departure\">Прилёт <span className=\"date\">{dt2.toLocaleDateString()}</span> в <span className=\"time\">{f(dt2)}</span></div>\r\n\t\t\t<div className=\"flight-entry-carrier\">Авиакомпания <span>{entry.carrier}</span></div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n\r\n\r\nconst createStore = function (initData) {\r\n\tlet initStates = {flightApp:{carrier:null}};\r\n\tlet reducers = {\r\n\t\tflightApp: function (state = initStates.flightApp, action) {\r\n\t\t\tswitch(action.type) {\r\n\t\t\t\tcase 'CHANGE_CARRIER':\r\n\t\t\t\t\treturn {...state, carrier:action.carrier};\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn state;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tlet r = Redux.combineReducers(reducers);\r\n\t/*let store = Redux.applyMiddleware(...)(Redux.createStore)(r, initData);*/\r\n\tlet store = Redux.createStore(r, initData);\r\n\treturn store;\r\n}\r\n\r\nconst store = createStore();\r\n\r\n\r\n\r\nReactDOM.render(\r\n\t<FlightApp store={store} />,\r\n\tdocument.getElementById('react-root')\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./app-src/js/main.js"],"sourceRoot":""}