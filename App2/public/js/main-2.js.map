{"version":3,"sources":["webpack:///main-2.js","webpack:///./app-src/js/main-2.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","34","96","_interopRequireWildcard","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","call","default","_interopRequireDefault","_objectWithoutProperties","keys","target","i","indexOf","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","length","err","return","Array","isArray","_extends","assign","arguments","source","_jsx","REACT_ELEMENT_TYPE","for","type","props","children","defaultProps","childrenLength","propName","childArray","$$typeof","ref","_owner","_createClass","defineProperties","descriptor","defineProperty","protoProps","staticProps","_react","_react2","_reactDom","_reactDom2","_redux","Redux","_reactRedux","config","dataSrc","_ref","className","FlightAppCls","_React$Component","this","getPrototypeOf","apply","loadFlights","_props","flights","carrier","carriers","reduce","result","item","sort","Provider","store","FlightSelector","list","current","onChange","changeCarrier","FlightList","Component","mapperStoreStateToProps","flightApp","mapperDispatchToProps","dispatch","evt","url","types","promise","fetch","then","response","ok","json","status","statusText","data","a","b","arrival","departure","FlightApp","connect","_ref2","map","filter","createElement","FlightEntry","entry","dt1","Date","dt2","f","t","h","getHours","m","getMinutes","id","direction","from","to","toLocaleDateString","createStore","initData","initStates","reducers","state","action","console","log","error","r","combineReducers","applyMiddleware","middleware","rest","_types","REQUEST","SUCCESS","FAILURE","render","document","getElementById"],"mappings":"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","file":"main-2.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(96);\n\n\n/***/ },\n\n/***/ 34:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 96:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/*\r\n\t* Для просмотра в браузере без webpack закоментировать все импорты\r\n\t* и раскоментирорвать две константы под ними.\r\n\t*/\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _jsx = function () { var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7; return function createRawReactElement(type, props, key, children) { var defaultProps = type && type.defaultProps; var childrenLength = arguments.length - 3; if (!props && childrenLength !== 0) { props = {}; } if (props && defaultProps) { for (var propName in defaultProps) { if (props[propName] === void 0) { props[propName] = defaultProps[propName]; } } } else if (!props) { props = defaultProps || {}; } if (childrenLength === 1) { props.children = children; } else if (childrenLength > 1) { var childArray = Array(childrenLength); for (var i = 0; i < childrenLength; i++) { childArray[i] = arguments[i + 3]; } props.children = childArray; } return { $$typeof: REACT_ELEMENT_TYPE, type: type, key: key === undefined ? null : '' + key, ref: null, props: props, _owner: null }; }; }();\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(21);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _reactDom = __webpack_require__(37);\n\t\n\tvar _reactDom2 = _interopRequireDefault(_reactDom);\n\t\n\tvar _redux = __webpack_require__(33);\n\t\n\tvar Redux = _interopRequireWildcard(_redux);\n\t\n\tvar _reactRedux = __webpack_require__(53);\n\t\n\t__webpack_require__(34);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t//const {Provider} = ReactRedux;\n\t//const reduxConnect = ReactRedux.connect;\n\t\n\t\n\tvar config = {\n\t\t// Урл внешнего файла с данными о перелётах\n\t\tdataSrc: 'data.json'\n\t};\n\t\n\t/*\r\n\t* Основной компонент - контейнер приложения\r\n\t*/\n\t\n\tvar _ref = _jsx('div', {\n\t\tclassName: 'flight-title'\n\t}, void 0, '\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0430\\u0432\\u0438\\u0430\\u043A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0438\\u044E:');\n\t\n\tvar FlightAppCls = function (_React$Component) {\n\t\t_inherits(FlightAppCls, _React$Component);\n\t\n\t\tfunction FlightAppCls() {\n\t\t\t_classCallCheck(this, FlightAppCls);\n\t\n\t\t\treturn _possibleConstructorReturn(this, (FlightAppCls.__proto__ || Object.getPrototypeOf(FlightAppCls)).apply(this, arguments));\n\t\t}\n\t\n\t\t_createClass(FlightAppCls, [{\n\t\t\tkey: 'componentDidMount',\n\t\t\tvalue: function componentDidMount() {\n\t\t\t\tthis.props.loadFlights(config.dataSrc);\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'render',\n\t\t\tvalue: function render() {\n\t\t\t\tvar _props = this.props,\n\t\t\t\t    flights = _props.flights,\n\t\t\t\t    carrier = _props.carrier;\n\t\n\t\t\t\tvar carriers = flights.length ? flights.reduce(function (result, item) {\n\t\t\t\t\tif (result.indexOf(item.carrier) == -1) {\n\t\t\t\t\t\tresult.push(item.carrier);\n\t\t\t\t\t}\n\t\t\t\t\treturn result;\n\t\t\t\t}, []) : [];\n\t\t\t\tcarriers.sort();\n\t\t\t\treturn _jsx(_reactRedux.Provider, {\n\t\t\t\t\tstore: this.props.store\n\t\t\t\t}, void 0, _jsx('div', {\n\t\t\t\t\tclassName: 'flight-app'\n\t\t\t\t}, void 0, _ref, _jsx(FlightSelector, {\n\t\t\t\t\tlist: carriers,\n\t\t\t\t\tcurrent: carrier,\n\t\t\t\t\tonChange: this.props.changeCarrier\n\t\t\t\t}), _jsx(FlightList, {\n\t\t\t\t\tflights: flights,\n\t\t\t\t\tcarrier: carrier\n\t\t\t\t})));\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn FlightAppCls;\n\t}(_react2.default.Component);\n\t\n\tvar mapperStoreStateToProps = function mapperStoreStateToProps(store) {\n\t\treturn {\n\t\t\tflights: store.flightApp.flights,\n\t\t\tcarrier: store.flightApp.carrier\n\t\t};\n\t};\n\t\n\tvar mapperDispatchToProps = function mapperDispatchToProps(dispatch, props) {\n\t\treturn {\n\t\t\tchangeCarrier: function changeCarrier(evt) {\n\t\t\t\tdispatch({ type: 'CHANGE_CARRIER', carrier: evt.target.value });\n\t\t\t},\n\t\t\tloadFlights: function loadFlights(url) {\n\t\t\t\tdispatch({ types: ['FLIGHTS_REQUEST', 'FLIGHTS_SUCCESS', 'FLIGHTS_ERR'], promise: function promise() {\n\t\t\t\t\t\treturn _loadFlights(url);\n\t\t\t\t\t} });\n\t\t\t}\n\t\t};\n\t};\n\t\n\tvar _loadFlights = function _loadFlights(url) {\n\t\treturn fetch(url, {}).then(function (response) {\n\t\t\tif (response.ok) {\n\t\t\t\treturn response.json(); //promise\n\t\t\t} else {\n\t\t\t\tthrow 'NetworkError: ' + response.status + ' ' + response.statusText + ' ' + response.url;\n\t\t\t}\n\t\t}).then(function (data) {\n\t\t\tif (data) {\n\t\t\t\tif (Array.isArray(data.flights)) {\n\t\t\t\t\tvar flights = data.flights;\n\t\t\t\t\t// Отсортировать, если нет строгой уверенности, что они уже отсортированы...\n\t\t\t\t\tflights.sort(function (a, b) {\n\t\t\t\t\t\treturn a.arrival < b.arrival ? -1 : a.arrival == b.arrival ? a.departure < b.departure ? -1 : a.departure == b.departure ? 0 : 1 : 1;\n\t\t\t\t\t});\n\t\t\t\t\treturn { flights: flights };\n\t\t\t\t} else {\n\t\t\t\t\tthrow 'ServerError: No valid data';\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\t\n\tvar FlightApp = (0, _reactRedux.connect)(mapperStoreStateToProps, mapperDispatchToProps)(FlightAppCls);\n\t\n\t/*\r\n\t* Внутренний компонент - селектор\r\n\t*/\n\t\n\tvar _ref2 = _jsx('option', {\n\t\tvalue: ''\n\t}, '0', '\\u0412\\u0441\\u0435 \\u0430\\u0432\\u0438\\u0430\\u043A\\u043E\\u043C\\u0430\\u043D\\u0438\\u0438');\n\t\n\tvar FlightSelector = function FlightSelector(props) {\n\t\tvar list = props.list,\n\t\t    current = props.current,\n\t\t    onChange = props.onChange;\n\t\n\t\treturn _jsx('select', {\n\t\t\tclassName: 'flight-selector',\n\t\t\tvalue: current || '',\n\t\t\tonChange: onChange\n\t\t}, void 0, _ref2, list.length ? list.map(function (item) {\n\t\t\treturn _jsx('option', {\n\t\t\t\tvalue: item\n\t\t\t}, item, item);\n\t\t}) : null);\n\t};\n\t\n\t/*\r\n\t* Внутренний компонент - список\r\n\t*/\n\tvar FlightList = function FlightList(props) {\n\t\tvar flights = props.flights,\n\t\t    carrier = props.carrier;\n\t\n\t\tvar list = flights.length ? carrier ? flights.filter(function (item) {\n\t\t\treturn item.carrier == carrier;\n\t\t}) : flights : [];\n\t\treturn _jsx('div', {\n\t\t\tclassName: 'flight-list' + (list.length ? '' : ' empty')\n\t\t}, void 0, list.length ? list.map(function (item) {\n\t\t\treturn _react2.default.createElement(FlightEntry, item);\n\t\t}) : 'Нет данных...');\n\t};\n\t\n\t/*\r\n\t* Внутренний компонент - элемент списка\r\n\t*/\n\tvar FlightEntry = function FlightEntry(entry) {\n\t\tvar dt1 = new Date(entry.arrival);\n\t\tvar dt2 = new Date(entry.departure);\n\t\tvar f = function f(t) {\n\t\t\tvar h = t.getHours(),\n\t\t\t    m = t.getMinutes();\n\t\t\treturn (h < 10 ? '0' + h : h) + ':' + (m < 10 ? '0' + m : m);\n\t\t};\n\t\treturn _jsx('div', {\n\t\t\tclassName: 'flight-entry'\n\t\t}, entry.id, _jsx('div', {\n\t\t\tclassName: 'flight-entry-id'\n\t\t}, void 0, '\\u0440\\u0435\\u0439\\u0441 \\u2116 ', _jsx('span', {}, void 0, entry.id)), _jsx('div', {\n\t\t\tclassName: 'flight-entry-direction'\n\t\t}, void 0, entry.direction.from, ' - ', entry.direction.to), _jsx('div', {\n\t\t\tclassName: 'flight-entry-arrival'\n\t\t}, void 0, '\\u0412\\u044B\\u043B\\u0435\\u0442 ', _jsx('span', {\n\t\t\tclassName: 'date'\n\t\t}, void 0, dt1.toLocaleDateString()), ' \\u0432 ', _jsx('span', {\n\t\t\tclassName: 'time'\n\t\t}, void 0, f(dt1))), _jsx('div', {\n\t\t\tclassName: 'flight-entry-departure'\n\t\t}, void 0, '\\u041F\\u0440\\u0438\\u043B\\u0451\\u0442 ', _jsx('span', {\n\t\t\tclassName: 'date'\n\t\t}, void 0, dt2.toLocaleDateString()), ' \\u0432 ', _jsx('span', {\n\t\t\tclassName: 'time'\n\t\t}, void 0, f(dt2))), _jsx('div', {\n\t\t\tclassName: 'flight-entry-carrier'\n\t\t}, void 0, '\\u0410\\u0432\\u0438\\u0430\\u043A\\u043E\\u043C\\u043F\\u0430\\u043D\\u0438\\u044F ', _jsx('span', {}, void 0, entry.carrier)));\n\t};\n\t\n\t/*\r\n\t* Хранилище состояний Redux\r\n\t*/\n\tvar createStore = function createStore(initData) {\n\t\tvar initStates = { flightApp: { flights: [], carrier: null } };\n\t\tvar reducers = {\n\t\t\tflightApp: function flightApp() {\n\t\t\t\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initStates.flightApp;\n\t\t\t\tvar action = arguments[1];\n\t\n\t\t\t\tswitch (action.type) {\n\t\t\t\t\tcase 'CHANGE_CARRIER':\n\t\t\t\t\t\treturn _extends({}, state, { carrier: action.carrier });\n\t\t\t\t\tcase 'FLIGHTS_REQUEST':\n\t\t\t\t\t\treturn state;\n\t\t\t\t\tcase 'FLIGHTS_SUCCESS':\n\t\t\t\t\t\treturn _extends({}, state, { flights: action.flights });\n\t\t\t\t\tcase 'FLIGHTS_ERR':\n\t\t\t\t\t\tconsole.log(action.error);\n\t\t\t\t\t\treturn state;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn state;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\n\t\tvar r = Redux.combineReducers(reducers);\n\t\tvar store = Redux.applyMiddleware(middleware)(Redux.createStore)(r, initData);\n\t\treturn store;\n\t};\n\t\n\tvar middleware = function middleware() {\n\t\treturn function (next) {\n\t\t\treturn function (action) {\n\t\t\t\tvar promise = action.promise,\n\t\t\t\t    types = action.types,\n\t\t\t\t    rest = _objectWithoutProperties(action, ['promise', 'types']);\n\t\n\t\t\t\tif (!promise) {\n\t\t\t\t\treturn next(action);\n\t\t\t\t}\n\t\n\t\t\t\tvar _types = _slicedToArray(types, 3),\n\t\t\t\t    REQUEST = _types[0],\n\t\t\t\t    SUCCESS = _types[1],\n\t\t\t\t    FAILURE = _types[2];\n\t\n\t\t\t\tnext(_extends({ type: REQUEST }, rest));\n\t\t\t\treturn promise().then(function (result) {\n\t\t\t\t\tnext(_extends({ type: SUCCESS }, result, rest));\n\t\t\t\t}, function (err) {\n\t\t\t\t\tnext(_extends({ type: FAILURE, error: '' + err }, rest));\n\t\t\t\t});\n\t\t\t};\n\t\t};\n\t};\n\t\n\tvar store = createStore();\n\t\n\t/*\r\n\t* Внедрение в страницу\r\n\t*/\n\t_reactDom2.default.render(_jsx(FlightApp, {\n\t\tstore: store\n\t}), document.getElementById('react-root'));\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// main-2.js","'use strict';\r\n\r\n/*\r\n* Для просмотра в браузере без webpack закоментировать все импорты\r\n* и раскоментирорвать две константы под ними.\r\n*/\r\nimport React/*, {Component}*/ from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport * as Redux from 'redux';\r\nimport /* * as ReactRedux*/ {Provider, connect as reduxConnect} from 'react-redux';\r\nimport '../css/main.css';\r\n//const {Provider} = ReactRedux;\r\n//const reduxConnect = ReactRedux.connect;\r\n\r\n\r\n\r\nconst config = {\r\n\t// Урл внешнего файла с данными о перелётах\r\n\tdataSrc: 'data.json'\r\n};\r\n\r\n\r\n\r\n/*\r\n* Основной компонент - контейнер приложения\r\n*/\r\nclass FlightAppCls extends React.Component {\r\n\tcomponentDidMount () {\r\n\t\tthis.props.loadFlights(config.dataSrc);\r\n\t}\r\n\r\n\trender () {\r\n\t\tlet {flights, carrier} = this.props;\r\n\t\tlet carriers = flights.length ? flights.reduce((result, item) => {\r\n\t\t\tif (result.indexOf(item.carrier) == -1) {\r\n\t\t\t\tresult.push(item.carrier);\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}, []) : [];\r\n\t\tcarriers.sort();\r\n\t\treturn (\r\n\t\t\t<Provider store={this.props.store}>\r\n\t\t\t\t<div className=\"flight-app\">\r\n\t\t\t\t\t<div className=\"flight-title\">Выберите авиакомпанию:</div>\r\n\t\t\t\t\t<FlightSelector list={carriers} current={carrier} onChange={this.props.changeCarrier} />\r\n\t\t\t\t\t<FlightList flights={flights} carrier={carrier} />\r\n\t\t\t\t</div>\r\n\t\t\t</Provider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapperStoreStateToProps = function (store) {\r\n\treturn {\r\n\t\tflights: store.flightApp.flights,\r\n\t\tcarrier: store.flightApp.carrier\r\n\t};\r\n}\r\n\r\nconst mapperDispatchToProps = function (dispatch, props) {\r\n\treturn {\r\n\t\tchangeCarrier: function (evt) {\r\n\t\t\tdispatch({type:'CHANGE_CARRIER', carrier:evt.target.value});\r\n\t\t},\r\n\t\tloadFlights: function (url) {\r\n\t\t\tdispatch({types:['FLIGHTS_REQUEST', 'FLIGHTS_SUCCESS', 'FLIGHTS_ERR'], promise:() => loadFlights(url)});\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst loadFlights = function (url) {\r\n\treturn fetch(url, {})\r\n\t\t.then(response => {\r\n\t\t\tif (response.ok) {\r\n\t\t\t\treturn response.json();//promise\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthrow 'NetworkError: ' + response.status + ' ' + response.statusText + ' ' + response.url;\r\n\t\t\t}\r\n\t\t})\r\n\t\t.then(data => {\r\n\t\t\tif (data) {\r\n\t\t\t\tif (Array.isArray(data.flights)) {\r\n\t\t\t\t\tlet flights = data.flights;\r\n\t\t\t\t\t// Отсортировать, если нет строгой уверенности, что они уже отсортированы...\r\n\t\t\t\t\tflights.sort((a, b) => a.arrival < b.arrival ? -1 : (a.arrival == b.arrival ? (a.departure < b.departure ? -1 : (a.departure == b.departure ? 0 : 1)) : 1));\r\n\t\t\t\t\treturn {flights:flights};\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthrow 'ServerError: No valid data';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n}\r\n\r\nconst FlightApp = reduxConnect(mapperStoreStateToProps, mapperDispatchToProps)(FlightAppCls);\r\n\r\n\r\n\r\n/*\r\n* Внутренний компонент - селектор\r\n*/\r\nconst FlightSelector = function (props) {\r\n\tlet {list, current, onChange} = props;\r\n\treturn (\r\n\t\t<select className=\"flight-selector\" value={current || ''} onChange={onChange}>\r\n\t\t\t<option value=\"\" key=\"0\">Все авиакомании</option>\r\n\t\t\t{list.length ? list.map(item => <option value={item} key={item}>{item}</option>) : null}\r\n\t\t</select>\r\n\t);\r\n}\r\n\r\n\r\n\r\n/*\r\n* Внутренний компонент - список\r\n*/\r\nconst FlightList = function (props) {\r\n\tlet {flights, carrier} = props;\r\n\tlet list = flights.length ? (carrier ? flights.filter(item => item.carrier == carrier) : flights) : [];\r\n\treturn (\r\n\t\t<div className={'flight-list' + (list.length ? '' : ' empty')}>\r\n\t\t\t{list.length ? list.map(item => <FlightEntry {...item} />) : 'Нет данных...'}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n\r\n\r\n/*\r\n* Внутренний компонент - элемент списка\r\n*/\r\nconst FlightEntry = function (entry) {\r\n\tlet dt1 = new Date(entry.arrival);\r\n\tlet dt2 = new Date(entry.departure);\r\n\tlet f = (t) => {\r\n\t\tlet h = t.getHours(), m = t.getMinutes();\r\n\t\treturn (h < 10 ? '0' + h : h) + ':' + (m < 10 ? '0' + m : m);\r\n\t};\r\n\treturn (\r\n\t\t<div className=\"flight-entry\" key={entry.id}>\r\n\t\t\t<div className=\"flight-entry-id\">рейс № <span>{entry.id}</span></div>\r\n\t\t\t<div className=\"flight-entry-direction\">{entry.direction.from} - {entry.direction.to}</div>\r\n\t\t\t<div className=\"flight-entry-arrival\">Вылет <span className=\"date\">{dt1.toLocaleDateString()}</span> в <span className=\"time\">{f(dt1)}</span></div>\r\n\t\t\t<div className=\"flight-entry-departure\">Прилёт <span className=\"date\">{dt2.toLocaleDateString()}</span> в <span className=\"time\">{f(dt2)}</span></div>\r\n\t\t\t<div className=\"flight-entry-carrier\">Авиакомпания <span>{entry.carrier}</span></div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n\r\n\r\n/*\r\n* Хранилище состояний Redux\r\n*/\r\nconst createStore = function (initData) {\r\n\tlet initStates = {flightApp:{flights:[], carrier:null}};\r\n\tlet reducers = {\r\n\t\tflightApp: function (state = initStates.flightApp, action) {\r\n\t\t\tswitch(action.type) {\r\n\t\t\t\tcase 'CHANGE_CARRIER':\r\n\t\t\t\t\treturn {...state, carrier:action.carrier};\r\n\t\t\t\tcase 'FLIGHTS_REQUEST':\r\n\t\t\t\t\treturn state;\r\n\t\t\t\tcase 'FLIGHTS_SUCCESS':\r\n\t\t\t\t\treturn {...state, flights:action.flights};\r\n\t\t\t\tcase 'FLIGHTS_ERR':\r\n\t\t\t\t\tconsole.log(action.error);\r\n\t\t\t\t\treturn state;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn state;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tlet r = Redux.combineReducers(reducers);\r\n\tlet store = Redux.applyMiddleware(middleware)(Redux.createStore)(r, initData);\r\n\treturn store;\r\n}\r\n\r\nconst middleware = function () {\r\n\treturn (next) => (action) => {\r\n\t\tconst {promise, types, ...rest} = action;\r\n\t\tif( !promise ) {\r\n\t\t\treturn next(action);\r\n\t\t}\r\n\t\tconst [REQUEST, SUCCESS, FAILURE] = types;\r\n\t\tnext({type:REQUEST, ...rest});\r\n\t\treturn promise().then(\r\n\t\t\t(result) => {\r\n\t\t\t\tnext({type:SUCCESS, ...result, ...rest});\r\n\t\t\t},\r\n\t\t\t(err) => {\r\n\t\t\t\tnext({type:FAILURE, error:'' + err, ...rest});\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst store = createStore();\r\n\r\n\r\n\r\n/*\r\n* Внедрение в страницу\r\n*/\r\nReactDOM.render(\r\n\t<FlightApp store={store} />,\r\n\tdocument.getElementById('react-root')\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./app-src/js/main-2.js"],"sourceRoot":""}